@{
    ViewData["Title"] = "Submit Claim";
}

<h2>Submit Claim</h2>

<!-- Display error message if there is any -->
@if (ViewData["Error"] != null)

{
    <div class="alert alert-danger">
        @ViewData["Error"]
    </div>
}

<form method="post" enctype="multipart/form-data" class="claim-form">
    <!-- Lecturer Name -->
    <div class="form-group">
        <label>Lecturer Name</label>
        <input type="text" name="lecturerName" class="form-control" required />
    </div>

    <!-- Surname -->
    <div class="form-group">
        <label>Surname</label>
        <input type="text" name="surname" class="form-control" required />
    </div>

    <!-- Claiming For (calendar picker for previous months) -->
    <div class="form-group">
        <label>Claiming For (Select a Previous Month)</label>
        <input type="text" id="claimingForDate" name="claimingForDate" class="form-control" required placeholder="Select a month" />
    </div>

    <!-- Hours Worked (with 45-hour limit) -->
    <div class="form-group">
        <label>Hours Worked</label>
        <input type="number" step="0.1" name="hoursWorked" class="form-control" required max="45" />
    </div>

    <!-- Hourly Rate -->
    <div class="form-group">
        <label>Hourly Rate</label>
        <input type="number" step="0.1" name="hourlyRate" class="form-control" required />
    </div>

    <!-- Notes -->
    <div class="form-group">
        <label>Notes</label>
        <textarea name="notes" class="form-control"></textarea>
    </div>

    <!-- Upload Supporting Document -->
    <div class="form-group">
        <label>Upload Supporting Document</label>
        <input type="file" name="document" class="form-control" />
    </div>

    <!-- Preferred Communication Method (Email or SMS) -->
    <div class="form-group">
        <label>Preferred Communication Method</label>
        <select name="communicationMethod" class="form-control" required>
            <option value="Email">Email</option>
            <option value="SMS">SMS</option>
        </select>
    </div>

    <!-- Contact Information (Email or Cellphone depending on communication method) -->
    <div class="form-group">
        <label>Contact Information</label>
        <input type="text" name="contactInfo" class="form-control" required placeholder="Enter your Email or Cellphone Number" />
    </div>

    <!-- Faculty Selection -->
    <div class="form-group">
        <label>Faculty</label>
        <select name="faculty" class="form-control" required>
            <option value="Commerce">Faculty of Commerce</option>
            <option value="ScienceAndTechnology">Faculty of Science & Technology</option>
            <option value="Law">Faculty of Law</option>
            <option value="Education">Faculty of Education</option>
            <option value="Humanities">Faculty of Humanities</option>
        </select>
    </div>
    <!-- Submit button -->
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

<br />
<a href="/" class="btn btn-secondary">Back to Home</a>

<!-- Date picker initialization for "Claiming For" field -->
<script type="text/javascript">
    $(document).ready(function () {
        // Initialize the datepicker for previous months only
        $('#claimingForDate').datepicker({
            format: "mm/yyyy", // Display month and year only
            minViewMode: 1, // Allow selection of months only
            autoclose: true,
            todayHighlight: true,
            endDate: '-1m' // Restrict to previous months (no current or future months)
        });
    });
</script>
